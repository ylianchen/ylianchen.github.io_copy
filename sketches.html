<!DOCTYPE html>
<html lang="en">
<head>
    <title>YCHen - Creative Coding</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="resource/css/bootstrap.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="resource/css/style_works.css">
    <link rel="stylesheet" href="resource/css/style.css">
    <link rel="stylesheet" href="resource/css/sketches.css">
    
    <!-- P5.js for sketches -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
</head>
<body>

<div id="nav">
    <div id="headerbox"> 
        <div id="n_photography" class="headerelement">
            <a href="/">photography</a>
        </div> 
        <div id="n_work" class="headerelement">
            <a href="/work.html">work</a>
        </div>
        <div id="n_sketches" class="headerelement active">
            <a href="/sketches.html">sketches</a>
        </div>
        <div id="n_about" class="headerelement">
            <a href="/about.html">About</a>
        </div> 
        <div id="n_archive" class="headerelement">
            <a href="/resource/pdf/CV_YliangChen_2023.pdf">CV</a>
        </div> 
    </div>
    <div id="headerbox_left">
        <div id="n_logo" class="headerelement"> 
            <a href="/index.html"> <img src="resource\img\logo\logo.png" height="39" style="vertical-align:top"> &nbsp;YCH&nbsp; </a> 
        </div> 
        <div id="my_name" class="headerelement">
            <a href="/index.html">Y.Liang Chen</a>
        </div>
    </div>
</div>

<div class="social-profiles">
</div><!-- .social-profiles -->

<div class="nav-bar-sep d-lg-none"></div>

<div class="outer-container">
    <div class="container portfolio-page">
        <div class="row">
            <div class="col">
                <ul class="breadcrumbs flex align-items-center">
                    <li><a href="#">Creative Coding Sketches</a></li>
                    <li></li>
                </ul><!-- .breadcrumbs -->
            </div><!-- .col -->
        </div><!-- .row -->

        <div class="row">
            <!-- Crystalline Network -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-crystalline" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/crystalline-network.html">Crystalline Network</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js,</a></li>
                            <li><a href="#">2023</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->

            <!-- Music Pixels -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-musicpixels" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/music-pixels.html">Music Pixels</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js, Web Audio,</a></li>
                            <li><a href="#">2023</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->

            <!-- Pills -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-pills" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/pills.html">Pills</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js, Generative Art,</a></li>
                            <li><a href="#">2022</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->

            <!-- Quantum Particles -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-quantum" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/quantum-particles.html">Quantum Particles</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js, Physics,</a></li>
                            <li><a href="#">2022</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->

            <!-- Red Stream -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-redstream" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/red-stream.html">Red Stream</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js, Network,</a></li>
                            <li><a href="#">2022</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->

            <!-- Space Arcade -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-arcade" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/space-arcade.html">Space Arcade</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js, Game,</a></li>
                            <li><a href="#">2021</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->

            <!-- Space Cleaner -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-cleaner" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/space-cleaner.html">Space Cleaner</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js, Interactive,</a></li>
                            <li><a href="#">2021</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->

            <!-- System Fracture -->
            <div class="col-12 col-md-6 col-lg-4">
                <div class="portfolio-content">
                    <figure class="sketch-preview">
                        <div id="sketch-fracture" class="sketch-container"></div>
                    </figure>

                    <div class="entry-content flex flex-column align-items-center justify-content-center">
                        <h3><a href="resource/sketches/system-fracture.html">System Fracture</a></h3>

                        <ul class="flex flex-wrap justify-content-center">
                            <li><a href="#">p5.js, Data Visualization,</a></li>
                            <li><a href="#">2020</a></li>
                        </ul>
                    </div><!-- .entry-content -->
                </div><!-- .portfolio-content -->
            </div><!-- .col -->
        </div><!-- .row -->

        <div class="scroll-down flex flex-column justify-content-center align-items-center d-none d-lg-block">
        </div><!-- .scroll-down -->
    </div><!-- .container -->
</div><!-- .outer-container -->

<script type='text/javascript' src='js/jquery.js'></script>
<script type='text/javascript' src='js/custom.js'></script>

<!-- Sketch preview scripts -->
<script>
// Create isolated sketch instances for each preview
// These are simplified versions of the full sketches

// Utility function to create isolated sketches
function createSketch(containerId, sketchFunction) {
    new p5(sketchFunction, document.getElementById(containerId));
}

// Crystalline Network
createSketch('sketch-crystalline', function(p) {
    let crystals = [];
    let energyPaths = [];
    
    p.setup = function() {
        p.createCanvas(300, 300);
        p.colorMode(p.HSB, 100);
        p.frameRate(30);
        
        // Create crystal nodes
        for (let i = 0; i < 8; i++) {
            crystals.push({
                pos: p.createVector(p.random(p.width), p.random(p.height)),
                baseSize: p.random(10, 20),
                size: p.random(10, 20),
                energy: p.random(0.2, 0.6),
                hue: p.random(60, 80),
                points: p.floor(p.random(3, 6)),
                rotation: p.random(p.TWO_PI),
                rotationSpeed: p.random(-0.02, 0.02)
            });
        }
        
        p.background(10, 0, 20);
    }
    
    p.draw = function() {
        p.background(10, 0, 20, 90);
        
        // Occasionally create new paths
        if (p.frameCount % 30 === 0 && energyPaths.length < 5) {
            let source = p.random(crystals);
            let targets = crystals.filter(c => c !== source);
            let target = p.random(targets);
            
            energyPaths.push({
                source: source,
                target: target,
                progress: 0,
                speed: p.random(0.01, 0.03),
                lifetime: p.random(0.8, 1.2),
                controlPoints: [
                    source.pos,
                    p.createVector(
                        (source.pos.x + target.pos.x)/2 + p.random(-30, 30),
                        (source.pos.y + target.pos.y)/2 + p.random(-30, 30)
                    ),
                    target.pos
                ]
            });
        }
        
        // Update and display paths
        for (let i = energyPaths.length - 1; i >= 0; i--) {
            let path = energyPaths[i];
            path.progress += path.speed;
            
            // Draw path
            p.noFill();
            p.stroke(70, 90, 100, 100);
            p.strokeWeight(2);
            p.beginShape();
            for (let t = 0; t <= p.min(path.progress, 1); t += 0.1) {
                let x = p.pow(1-t, 2) * path.controlPoints[0].x + 
                       2 * (1-t) * t * path.controlPoints[1].x + 
                       p.pow(t, 2) * path.controlPoints[2].x;
                let y = p.pow(1-t, 2) * path.controlPoints[0].y + 
                       2 * (1-t) * t * path.controlPoints[1].y + 
                       p.pow(t, 2) * path.controlPoints[2].y;
                p.vertex(x, y);
            }
            p.endShape();
            
            if (path.progress >= path.lifetime) {
                energyPaths.splice(i, 1);
            }
        }
        
        // Display crystals
        for (let crystal of crystals) {
            crystal.rotation += crystal.rotationSpeed;
            
            p.push();
            p.translate(crystal.pos.x, crystal.pos.y);
            p.rotate(crystal.rotation);
            
            // Outer glow
            p.noStroke();
            p.fill(crystal.hue, 80, 90, 15);
            p.ellipse(0, 0, crystal.size * 2);
            
            // Crystal shape
            p.beginShape();
            for (let i = 0; i < crystal.points; i++) {
                let angle = p.map(i, 0, crystal.points, 0, p.TWO_PI);
                let x = p.cos(angle) * crystal.size;
                let y = p.sin(angle) * crystal.size;
                p.fill(crystal.hue, 80, 90, 80);
                p.vertex(x, y);
            }
            p.endShape(p.CLOSE);
            
            // Inner core
            p.fill(crystal.hue, 50, 100, 90);
            p.ellipse(0, 0, crystal.size * 0.4);
            
            p.pop();
        }
    }
});

// Music Pixels
createSketch('sketch-musicpixels', function(p) {
    let pixels = [];
    let notes = [60, 62, 64, 65, 67, 69, 71, 72]; // C major scale
    
    p.setup = function() {
        p.createCanvas(300, 300);
        p.colorMode(p.HSB, 100);
        p.background(10);
    }
    
    p.draw = function() {
        p.background(10, 20);
        
        // Create new pixels occasionally
        if (p.frameCount % 10 === 0) {
            let x = p.random(p.width);
            let y = p.random(p.height);
            let noteIndex = p.floor(p.map(y, p.height, 0, 0, notes.length));
            
            pixels.push({
                pos: p.createVector(x, y),
                vel: p.createVector(p.random(-1, 1), p.random(-1, 1)),
                note: notes[noteIndex % notes.length],
                size: p.random(20, 40),
                life: 255,
                hue: p.map(noteIndex % 8, 0, 8, 0, 100),
                pulsePhase: p.random(p.TWO_PI),
                pulseSpeed: p.random(0.05, 0.2),
                connections: []
            });
            
            // Find nearby pixels to connect to
            for (let other of pixels) {
                if (other.pos.dist(pixels[pixels.length-1].pos) < 100) {
                    pixels[pixels.length-1].connections.push(other);
                }
            }
        }
        
        // Draw connections
        p.stroke(70, 60, 100, 30);
        p.strokeWeight(1);
        for (let pixel of pixels) {
            for (let other of pixel.connections) {
                p.line(pixel.pos.x, pixel.pos.y, other.pos.x, other.pos.y);
            }
        }
        
        // Update and display pixels
        for (let i = pixels.length - 1; i >= 0; i--) {
            let pixel = pixels[i];
            
            // Update
            pixel.pos.add(pixel.vel);
            pixel.vel.mult(0.99);
            pixel.life -= 1;
            
            // Bounce off edges
            if (pixel.pos.x < 0 || pixel.pos.x > p.width) pixel.vel.x *= -0.9;
            if (pixel.pos.y < 0 || pixel.pos.y > p.height) pixel.vel.y *= -0.9;
            
            // Display
            let pulse = p.sin(p.frameCount * pixel.pulseSpeed + pixel.pulsePhase) * 0.2 + 1;
            
            p.push();
            p.translate(pixel.pos.x, pixel.pos.y);
            
            // Draw glow
            p.noStroke();
            p.fill(pixel.hue, 80, 100, pixel.life * 0.2 / 255);
            p.ellipse(0, 0, pixel.size * pulse * 1.5);
            
            // Draw pill shape
            p.fill(pixel.hue, 80, 100, pixel.life * 0.8 / 255);
            p.rect(
                -pixel.size/3 * pulse,
                -pixel.size/6 * pulse,
                pixel.size * 2/3 * pulse,
                pixel.size * 1/3 * pulse,
                pixel.size/6 * pulse
            );
            
            p.pop();
            
            // Remove dead pixels
            if (pixel.life <= 0) {
                pixels.splice(i, 1);
            }
        }
    }
});

// Pills
createSketch('sketch-pills', function(p) {
    let flowers = [];
    
    p.setup = function() {
        p.createCanvas(300, 300);
        for (let i = 0; i < 50; i++) {
            flowers.push({
                pos: p.createVector(p.random(p.width), p.height),
                speed: p.random(0.5, 3),
                color: p.color(p.random(255), p.random(255), p.random(255)),
                size: p.random(2, 30),
                alive: 1,
                x: 1500
            });
        }
        p.background(0, 0, 255);
    }
    
    p.draw = function() {
        p.background(0, 0, 255, 10);
        
        for (let i = 0; i < flowers.length; i++) {
            // Update
            flowers[i].pos.x += p.random(-2, 2);
            flowers[i].pos.y -= flowers[i].speed;
            flowers[i].x -= 5;
            
            if (flowers[i].pos.y < -20) {
                flowers[i].alive = 0;
            }
            
            // Draw
            p.fill(flowers[i].x / 5.2, 28, 255, 180);
            p.push();
            p.translate(flowers[i].pos.x, flowers[i].pos.y);
            p.rotate(flowers[i].x / p.random(3));
            p.scale(0.01 * flowers[i].size);
            p.translate(flowers[i].x, 0, 0);
            p.rect(
                p.width / 2,
                p.height / 2,
                flowers[i].x - flowers[i].x / p.random(20, 40),
                flowers[i].x - 499,
                1000
            );
            p.fill(flowers[i].x / 5.2, 28, 0, p.random(200, 255));
            p.pop();
            
            // Replace dead flowers
            if (flowers[i].alive == 0) {
                flowers.splice(i, 1);
                flowers.push({
                    pos: p.createVector(p.random(p.width), p.height),
                    speed: p.random(0.5, 3),
                    color: p.color(p.random(255), p.random(255), p.random(255)),
                    size: p.random(2, 30),
                    alive: 1,
                    x: 1500
                });
            }
        }
    }
});

// Quantum Particles
createSketch('sketch-quantum', function(p) {
    let particles = [];
    let entanglements = [];
    
    p.setup = function() {
        p.createCanvas(300, 300);
        p.colorMode(p.HSB, 100);
        
        // Initialize particles
        for (let i = 0; i < 10; i++) {
            particles.push({
                pos: p.createVector(p.random(p.width), p.random(p.height)),
                vel: p.createVector(p.random(-0.5, 0.5), p.random(-0.5, 0.5)),
                size: p.random(15, 30),
                state: p.floor(p.random(4)),
                pulsePhase: p.random(p.TWO_PI),
                pulseSpeed: p.random(0.03, 0.08)
            });
        }
        
        // Create entanglements
        for (let i = 0; i < 5; i++) {
            let p1 = p.floor(p.random(particles.length));
            let p2 = p.floor(p.random(particles.length));
            
            if (p1 !== p2) {
                entanglements.push({
                    a: p1,
                    b: p2
                });
                
                particles[p1].state = p.floor(p.random(4));
                particles[p2].state = (particles[p1].state + 2) % 4;
            }
        }
        
        p.background(10, 10, 15);
    }
    
    p.draw = function() {
        p.background(10, 10, 15, 90);
        
        // Draw entanglement lines
        for (let e of entanglements) {
            let p1 = particles[e.a];
            let p2 = particles[e.b];
            
            let stateOpposites = (p1.state + 2) % 4 === p2.state;
            p.stroke(0, 0, 100, stateOpposites ? 50 : 20);
            p.strokeWeight(stateOpposites ? 2 : 1);
            
            p.beginShape();
            p.vertex(p1.pos.x, p1.pos.y);
            let midX = (p1.pos.x + p2.pos.x) / 2;
            let midY = (p1.pos.y + p2.pos.y) / 2;
            let d = p.dist(p1.pos.x, p1.pos.y, p2.pos.x, p2.pos.y);
            let perpX = -(p2.pos.y - p1.pos.y) * 0.2;
            let perpY = (p2.pos.x - p1.pos.x) * 0.2;
            p.quadraticVertex(midX + perpX, midY + perpY, p2.pos.x, p2.pos.y);
            p.endShape();
        }
        
        // Update and draw particles
        for (let i = 0; i < particles.length; i++) {
            let particle = particles[i];
            
            // Update
            particle.pos.add(particle.vel);
            
            // Wrap around screen
            if (particle.pos.x < 0) particle.pos.x = p.width;
            if (particle.pos.x > p.width) particle.pos.x = 0;
            if (particle.pos.y < 0) particle.pos.y = p.height;
            if (particle.pos.y > p.height) particle.pos.y = 0;
            
            // Draw
            let pulse = p.sin(p.frameCount * particle.pulseSpeed + particle.pulsePhase) * 0.2 + 1;
            
            p.push();
            p.translate(particle.pos.x, particle.pos.y);
            
            // Quantum uncertainty cloud
            for (let i = 3; i > 0; i--) {
                p.noStroke();
                p.fill(0, 0, 100, 10);
                p.ellipse(0, 0, particle.size * pulse * (1 + i * 0.3));
            }
            
            // Main particle body (pill shape)
            p.fill(0, 0, 100, 90);
            p.noStroke();
            p.rect(
                -particle.size/3 * pulse,
                -particle.size/6 * pulse,
                particle.size * 2/3 * pulse,
                particle.size * 1/3 * pulse,
                particle.size/6 * pulse
            );
            
            // State symbol
            p.fill(0, 0, 20);
            p.textSize(particle.size * 0.3);
            p.textAlign(p.CENTER, p.CENTER);
            p.text(["↑", "→", "↓", "←"][particle.state], 0, 0);
            
            p.pop();
        }
    }
});

// Red Stream
createSketch('sketch-redstream', function(p) {
    let nodes = [];
    let branches = [];
    let minDistance = 30;
    let maxDistance = 150;
    
    p.setup = function() {
        p.createCanvas(300, 300);
        
        // Create nodes
        for (let i = 0; i < 20; i++) {
            nodes.push({
                pos: p.createVector(p.random(p.width), p.random(p.height)),
                targetPos: p.createVector(p.random(p.width), p.random(p.height)),
                velocity: p.createVector(p.random(-1, 1), p.random(-1, 1)),
                damping: p.random(0.95, 0.98),
                speed: p.random(0.1, 0.3),
                size: p.random(2, 5),
                color: p.color(200 + p.random(-30, 30)),
                energy: p.random(0.5, 1)
            });
        }
        
        // Create branches
        for (let i = 0; i < nodes.length; i++) {
            for (let j = i + 1; j < nodes.length; j++) {
                let d = p.dist(
                    nodes[i].pos.x, nodes[i].pos.y,
                    nodes[j].pos.x, nodes[j].pos.y
                );
                
                if (d > minDistance && d < maxDistance && p.random() < 0.3) {
                    branches.push({
                        startId: i,
                        endId: j,
                        thickness: p.random(0.3, 1.5),
                        color: p.color(150 + p.random(50), 20 + p.random(50), 20 + p.random(50))
                    });
                }
            }
        }
        
        p.background(0);
    }
    
    p.draw = function() {
        p.background(0, 20);
        
        // Update nodes
        for (let node of nodes) {
            // Drift toward target
            let direction = p5.Vector.sub(node.targetPos, node.pos);
            direction.normalize();
            direction.mult(node.speed * node.energy);
            
            node.velocity.add(direction);
            node.velocity.mult(node.damping);
            node.pos.add(node.velocity);
            
            // Create new target if close
            if (p5.Vector.dist(node.pos, node.targetPos) < 20) {
                node.targetPos = p.createVector(p.random(p.width), p.random(p.height));
            }
            
            // Stay within canvas
            if (node.pos.x < 0 || node.pos.x > p.width) {
                node.velocity.x *= -0.5;
                node.pos.x = p.constrain(node.pos.x, 0, p.width);
            }
            if (node.pos.y < 0 || node.pos.y > p.height) {
                node.velocity.y *= -0.5;
                node.pos.y = p.constrain(node.pos.y, 0, p.height);
            }
        }
        
        // Draw branches
        for (let branch of branches) {
            let start = nodes[branch.startId];
            let end = nodes[branch.endId];
            
            let distance = p.dist(start.pos.x, start.pos.y, end.pos.x, end.pos.y);
            let alpha = p.map(distance, minDistance, maxDistance, 200, 50);
            
            // Draw branch
            p.stroke(p.red(branch.color), p.green(branch.color), p.blue(branch.color), alpha);
            p.strokeWeight(branch.thickness);
            p.line(start.pos.x, start.pos.y, end.pos.x, end.pos.y);
            
            // Energy pulse effect
            if (p.random() < 0.05) {
                let pulseSize = p.random(3, 6);
                let pulsePos = p.random();
                let pulseX = p.lerp(start.pos.x, end.pos.x, pulsePos);
                let pulseY = p.lerp(start.pos.y, end.pos.y, pulsePos);
                
                p.noStroke();
                p.fill(p.red(branch.color